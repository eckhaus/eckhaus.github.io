<!DOCTYPE html>
<head>
  <meta charset="utf-8"/>
  <title>Perlin noise</title>
  <link rel="stylesheet" href="tufte.css"/>
  <link rel="stylesheet" href="latex.css"/>
  <script type="text/javascript" async
  src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
</script>
<script src="processing.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"/>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
});
</script>

</head>

<body>
  <article>
    <h1 id="tufte-css">Procedurálna šumová textúra</h1>
    <p class="subtitle">Domáca úloha <a href="http://cgg.mff.cuni.cz/lectures/npgr004.cz.php"> NPGR004</a> : Róbert Eckhaus </p>
    <!--<h3><a href="http://paulbourke.net/dome/fisheye/">Inšpirácia (fisheye effect)</a></h3>-->
    <section>
     <h3> Pomocné skripty <code style="font-size: 13px;">(v processing.js)</code></h3>
     <p><b>Mramor:</b></p>

     <p>$$B(x,y) = 	\sin\left(\pi\left|\frac{x\cdot P_x}{W} + \frac{y\cdot P_y}{H} + P \cdot noise(x,y)\right|\right)^E$$</p>
<p>kde jednotlivé premenné sú:
<ul>
	<li> \(W\) = šírka patternu = \(5.0\)</li>
	<li> \(H\) = výška patternu = \(5.0\)</li>
	<li> \(P_x\) = horizontálna frekvencia = \(1.0\)</li>
	<li> \(P_y\) = vertikálna frekvencia = \(1.0\)</li>
	<li> \(S\) = sila šumu = x-ová súradnica myši</li>
	<li> \(E\) = exponent = y-ová súradnica myši</li>
</ul>

</p>

      <figure>
        <script type="text/processing" data-processing-target="processing-canvas">
		int i = 0; 

		void setup() {
		    background(255);
    		size(round(window.innerWidth/2),150)
		    smooth();
		    frameRate(10);
		    strokeWeight(12);
		} 
		 
		float increment = 0.02;

		void marble() {
		  loadPixels();

		  float xoff = 0.0; 
		  float mx = map(mouseX, 0, width, 0.0, 20.0);
		  float my = map(mouseY, 0, height, 0.0, 5.0);
		  noiseDetail(8, 0.5);
		  
		   for (int x = 0; x < width; x++) {
		    xoff += increment;   
		    float yoff = 0.0; 
		    for (int y = 0; y < height; y++) {
		      yoff += increment; 
		      ns = noise(xoff, yoff) * my * 10.0;
		    float xPeriod = 1.0;
		    float yPeriod = 1.0;       
		    float turbPower = mx;
		    float noiseWidth = 5.0;
		    float noiseHeight = 5.0;
		    float xyValue = xoff * xPeriod / noiseWidth + yoff * yPeriod / noiseHeight + turbPower * noise(xoff, yoff);
		    float bright = 255 * pow(abs(sin(xyValue * 3.14159)),my);
		      pixels[x+y*width] = color(bright);
		    }
		  }
		  updatePixels();

		}

		void draw() {
		  marble();
		  
		}
		</script>
		<center>
		<canvas id="processing-canvas" style="border: 1px solid #666666;" > </canvas>
		</center>
     <p><b>Zašumené dlaždice:</b></p>

     <p>$$B(x,y) =   |\cos(x+P\cdot noise(x,y))\cdot \sin(y+P\cdot noise(x,y))|^E$$</p>

      <figure>
        <script type="text/processing" data-processing-target="processing-canvas2">
		int i = 0; 

		void setup() {
		    background(255);
    		size(round(window.innerWidth/2),150)
		    smooth();
		    frameRate(10);
		    strokeWeight(12);
		} 
		 
		float increment = 0.02;

		void marble() {
		  loadPixels();

		  float xoff = 0.0; 
		  float mx = map(mouseX, 0, width, 0.0, 20.0);
		  float my = map(mouseY, 0, height, 0.0, 5.0);
		  noiseDetail(8, 0.5);
		  
		   for (int x = 0; x < width; x++) {
		    xoff += increment;   
		    float yoff = 0.0; 
		    for (int y = 0; y < height; y++) {
		      yoff += increment; 
		      ns = noise(xoff, yoff) * my * 10.0;
		      float bright = pow(abs(cos(xoff + ns)*sin(yoff + ns)) , my) *255 ;

		      pixels[x+y*width] = color(bright);
		    }
		  }
		  updatePixels();

		}

		void draw() {
		  marble();
		  
		}
		</script>
		<center>
		<canvas id="processing-canvas2" style="border: 1px solid #666666;" > </canvas>
		</center>
      </figure>

    </section>

  </article>
</body>
</html>
